<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ajax</title>
</head>
<body>
<button id="btn">点击用GET方法加载ajax</button>
<button id="btn1">点击用POST方法加载ajax</button>
<br><br>
<form  id="fm" action="get_test.php" method="get">
    <label>
        <input type="text" name="username" placeholder="username">
        <input type="text" name="age" placeholder="age">
        <input type="text" name="sex" placeholder="sex">
    </label>
    <input type="submit" value="GET提交">
</form>
<p>上面是get，下面是post</p>
<form  id="fm1" action="get_test.php" method="post">
    <label>
        <input type="text" name="username" placeholder="username">
        <input type="text" name="age" placeholder="age">
        <input type="text" name="sex" placeholder="sex">
    </label>
    <input type="submit" value="POST提交">
</form>
<script defer>
    let xhr = new XMLHttpRequest();
    let oBtn = document.getElementById("btn");
    oBtn.onclick = function() {
        xhr.open("get", "1.txt", true);
        xhr.send();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                oBtn.innerHTML = xhr.responseText;
            }
        }
    }

    let xhr1 = new XMLHttpRequest();
    let oBtn1 = document.getElementById('btn1');
    oBtn1.onclick = function () {
        xhr1.open('post','get_test.php',true);
        xhr1.setRequestHeader('content-type','application/x-www-form-urlencoded')
        xhr1.send('username=test&age=998&sex=male');
        xhr1.onreadystatechange = function () {
            if (xhr1.readyState === 4){
                oBtn1.innerHTML = xhr1.responseText;
            }
        }
    }

    let oFm = document.getElementById('fm');
    let oLabel = oFm.getElementsByTagName("label")[0];
    let oIpt = oLabel.getElementsByTagName("input");

</script>
</body>
</html>